## 计算机网络

### 概论

#### 1.1 计算机网络在信息时代中的作用

互联网的两个重要基本特点：**连通性**和**共享**。

#### 1.2 互联网概述

##### **1.2.1 网络的网络**

1. 计算机网络（简称为网络）由若干**结点**（node）和连接这些结点的**链路**（link）组成。
2. 网络把许多计算机连接在一起，而互连网则把许多网络通过路由器连接在一起。与网络相连的计算机常称为主机。

##### 1.2.2 互联网基础结构发展的三个阶段

1. **第一阶段是从单个网络ARPANET向互连网发展的过程。**

   1983年**TCP/IP协议**成为ARPANET上的标准协议，使得所有使用TCP/IP协议的计算机都能利用互连网相互通信。

   **internet（互连网）**是一个通用名词，泛指由多个计算机网络互连而成的计算机网络。在这些网络之间的通信协议可以任意选择，**不一定非要使用TCP/IP协议**。

   **Internet（互联网，或因特网）**则是一个专用名词，指当前全球最大的、开放的、由众多网络相互连接而成的特定互连网，**采用TCP/IP协议族**作为通信的规则，且其前身是美国的ARPANET。

2. **第二阶段的特点是建成了三级结构的互联网。**

   国家科学基金网NSFNET，是一个三级计算机网络，分为**主干网、地区网和校园网（或企业网）**。

3. **第三阶段的特点是逐渐形成了多层次ISP结构的互联网。**

   根据提供服务的覆盖面积大小以及所拥有的IP地址数目不同，**ISP（互联网服务提供商）**分为：**主干ISP**、**地区ISP**和**本地ISP**。

   地区ISP通过一个或多个主干ISP连接起来。本地ISP可以连接到地区ISP，也可以直接连接到主干ISP。

   从原理上讲，只要每一个本地ISP都安装了路由器连接到某个地区ISP，而每一个地区ISP也有路由器连接到主干ISP，那么在这些相互连接的ISP的共同合作下，就可以完成互联网中的所有的分组转发任务。

   更快地转发分组、更加有效地利用网络资源：**互联网交换点IXP**，主要作用就是**允许两个网络直接相连并交换分组**，而不需要再通过第三个网络来转发分组。

   IXP常采用**工作在数据链路层的网络交换机**，用局域网互连起来。

##### 1.2.3互联网的标准化工作

1. 所有的互联网标准都是以**RFC**（请求评论）的形式在互联网上发表的。但并非所有的RFC文档都是互联网标准。
2. 制定互联网标准的过程：
   1. 互联网草案：有效期只有6个月，不算RFC文档。（现不使用这一阶段）
   2. 建议标准：从这个阶段开始就成为RFC文档。
   3. 互联网标准：达到正式标准后，每个标准就分配到一个编号STDxx。一个标准可以和多个RFC文档关联。

#### 1.3 互联网的组成

互联网的拓扑结构从工作方式上看分为：

1. **边缘部分**：由所有连接在互联网上的主机组成。**用户直接使用**，进行通信和资源共享。
2. **核心部分**：由大量网络和连接这些网络的路由器组成。**为边缘部分提供服务**。

##### 1.3.1 互联网的边缘部分

1. 处在互连网边缘的部分就是连接在互联网上的所有的主机（端系统）。

   边缘部分利用核心部分所提供的服务，使众多主机之间能够相互通信并交换和共享信息。

2. 计算机间的通信：主机A的某个进程和主机B上的另一个进程进行通信。

3. **端系统之间的通信方式**：客户-服务器方式（C/S方式）和对等方式（P2P方式）。

   **客户-服务器方式**：客户和服务器都是指通信中涉及的两个应用进程。客户是服务请求方，服务器是服务提供方。

   1. 服务请求方和服务提供方都要使用网络核心部分所提供的服务。
   2. 客户程序被用户调用后运行，在通信时**主动**向远地服务器发起通信（请求服务）。因此，**客户程序必须知道服务器程序的地址**。客户程序不需要特殊的硬件和很复杂的操作系统。
   3. 服务器程序是一种专门用来提供某种服务的程序，**可同时处理多个远地或本地客户的请求**。系统启动后即自动调用并一直不断地运行着，**被动**地等待并接受来自各地的客户的通信请求。因此，**服务器程序不需要知道客户程序的地址**。服务器程序一般需要有强大的硬件和高级的操作系统支持。
   4. 客户与服务器的通信关系建立后，**通信可以是双向的**，客户和服务器都可以发送和接收数据。

   **对等连接方式**：两台主机在通信时并不区分哪一个是服务请求方哪一个是服务提供方。**本质仍然是客户-服务器方式**，只是每一台主机即是客户又同时是服务器。

##### 1.3.2 互联网的核心部分

1. 在网络核心部分其特殊作用的是**路由器**，它是一种专用计算机（但不叫做主机）。

2. 路由器是实现**分组交换**的关键构件，其任务是**转发收到的分组**，这是网络核心部分最重要的功能。

3. 交换：按照某种方式**动态**地分配传输线路的资源。

4. **电路交换**：必须经过“建立连接（占用通信资源）-> 通话（一直占用通信资源）-> 释放连接（归还通信资源）”三个步骤的交换方式。线路的传输效率低。

   电路交换的一个重要特点就是：**在通话的全部时间内，通话的两个用户始终占用端到端的通信资源**。

5. **分组交换**：采用**存储转发**技术。